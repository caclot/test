!function(){function w(){function q(){function e(r,d){r<<=0;d<<=0;for(var c=d-3;c<d+3;c++)for(var b=r-3;b<r+3;b++)g[l+c*a+b]+=512}function q(a,d){clearTimeout(a.tId);clearInterval(z);clearInterval(A);a.tId=setTimeout(function(){a.call(d)},500)}var c=document.getElementById("waterCanvas");c?(c.width=a,c.height=d):(c=document.createElement("canvas"),c.id="waterCanvas",c.width=a,c.height=d,document.getElementById("ripple").appendChild(c));var m=c.getContext("2d"),x=a>>1,y=d>>1,B=a*(d+2)*2,l=a,n=a*(d+3),g=[],t=[],k;with(m)fillStyle="#F0E5E1",fillRect(0,0,a,d),save(),restore();m.drawImage(u,0,0);var v=m.getImageData(0,0,a,d);var p=m.getImageData(0,0,a,d);for(var h=0;h<B;h++)t[h]=0,g[h]=0;c.ontouchmove=function(a){e(a.offsetX||a.layerX,a.offsetY||a.layerY)};c.onclick=function(a){e(a.offsetX||a.layerX,a.offsetY||a.layerY)};var z=setInterval(function(){var c=l;l=n;n=c;c=0;k=l;for(var e=0;e<d;e++)for(var h=0;h<a;h++){var b=g[k-a]+g[k+a]+g[k-1]+g[k+1]>>1;b-=g[n+c];b-=b>>5;g[n+c]=b;b=1024-b;var f=t[c];t[c]=b;f!=b&&(f=((h-x)*b/1024<<0)+x,b=((e-y)*b/1024<<0)+y,f>=a&&(f=a-1),0>f&&(f=0),b>=d&&(b=d-1),0>b&&(b=0),b=4*(f+b*a),f=4*c,p.data[f]=v.data[b],p.data[f+1]=v.data[b+1],p.data[f+2]=v.data[b+2]);k++;c++}m.putImageData(p,0,0)},30),A=setInterval(function(){.3<Math.random()&&e(Math.random()*a,Math.random()*d)},1250);window.onresize=function(){q(w,window)}}var e,d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;1.25<d/a?e="img/mobile.jpg":1200>=a?e="img/fish_0.jpg":1200<a&&1440>=a?e="img/fish_1.jpg":1440<a&&1920>=a?e="img/fish_2.jpg":1920<a&&2560>=a?e="img/fish_3.jpg":e="img/fish_4.jpg";var u=new Image;u.src=e;u.onload=function(){q()}}w()}()